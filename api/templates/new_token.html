{% extends "base.html" %}
{% load i18n %}
{% load django_bootstrap5 %}

{% block content %}
<div class="container-fluid px-0">
  <div class="card mb-4">

    <div class="p-3 bg-light border-bottom">
      <h5 class="mb-0">{{ subtitle }}</h5>
    </div>

    <div class="card-body">
      <form role="form" method="post">
        {% csrf_token %}

        {% if form.errors %}
          <div class="alert alert-danger alert-dismissible fade show d-flex align-items-center" role="alert">
            <i class="bi bi-exclamation-circle-fill flex-shrink-0 me-2"></i>
            <div>
              {% for field, error in form.errors.items %}
                {{ error }}<br />
              {% endfor %}
            </div>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endif %}

        {% bootstrap_form form %}

        <div class="d-flex justify-content-end gap-2 mt-4 border-top pt-3">
          <a class="btn btn-outline-secondary" href="{% url 'api:tokens' %}">
            {% translate "Cancel" %}
          </a>
          <input class="btn btn-green-admin" type="submit" name="submit" value="{% translate 'Save' %}" />
        </div>

      </form>
    </div>
  </div>
</div>
{% endblock %}
